# HIGH_TOUCH_POLISH.md

> 目标：记录“用户未必直接察觉、但会显著提高产出质量与整体质感”的高级打磨项。

## 为什么单列这个文档
- 避免高级打磨与功能修复混在一起，造成排期混乱。
- 让“现在不做也不会坏”的优化有明确归宿，不会丢。
- 每次迭代可挑 1-2 项低风险落地，持续提升产品品味。

---

## 优先级分层

### P1（低风险高收益，可随时插入）
1. Stack 冲突自动降级（不仅提示冲突）
   - 现状：仅 toast 提醒，冲突文本仍并存。
   - 目标：冲突时使用降级文案（例如 brief × intimate -> "减少赘述但保留必要情绪回声"）。
   - 价值：输出更稳定，减少模型在互斥指令间摇摆。

2. 冲突提示可解释化
   - 现状：仅提示冲突对。
   - 目标：提示“为什么冲突 + 建议保留哪种风格更适合当前目标”。
   - 价值：降低用户决策成本。

### P2（中风险中收益，建议独立小版本）
3. Stack 定义升级为「文本 + tags + 降级文案」
   - 现状：stack 为纯文本片段。
   - 目标：增加 metadata（如 length, affect, formality），实现规则化兼容判断。
   - 价值：从“经验冲突”升级为“结构化冲突管理”。

4. Prompt 质量护栏小体检
   - 在生成后自动做一次轻量检查（冲突标签、重复密度、边界丢失）。
   - 输出“建议修整点”，不阻断生成。

### P3（后续探索）
5. 自动 A/B 微调候选输出
   - 同一配置生成两个微差版本（稳态 / 情感态），用户一键选择。

---

## 现在做 vs 以后做（工程策略）

### 现在做的好处
- 上下文热：刚改过相关模块，改动成本低。
- 能更早锁住风格一致性，减少后续返工。

### 现在做的风险
- 若和主线功能混做，容易扩大测试面。
- 在需求还频繁变动时，可能出现“过早优化”。

### 以后做的好处
- 主功能稳定后做，验证边界更清楚。
- 可以打包成“体验升级版”，价值感更明确。

### 以后做的风险
- 代码路径变多后再做，接入点更多，改动面可能变大。
- 细节债务会堆积，后续需要更系统清理。

---

## 执行原则（防添乱）
1. 一次只做一个 polish 点。
2. 每项最多改 2-4 个文件。
3. 必须带回归清单（Quick/Deep/Agent/Vault 各 1 条）。
4. 可关可开：新策略尽量可通过常量开关回退。
5. 不改数据结构时优先不改数据结构。

---

## 建议节奏
- 主线开发期：每 3-5 个功能点插入 1 个 P1 polish。
- 稳定发布前：集中完成 1-2 个 P2。
- 每次发布：在 CHANGELOG 标记为 "Polish"，便于回看收益。

---

## Beginner Friction Log（只记问题，不写解法）

> 面向小白用户卡点收集。这里只记录“哪里卡”，不记录解决方案。

1. 首页入口文案偏工程化，用户不容易一眼判断“我该点哪个”。
2. Quick / Deep / Agent 的层级术语（主语、模块、刹车）对新用户理解门槛偏高。
3. 各页“做完会得到什么”不够直给，用户容易中途不确定当前收益。
4. 冲突提示目前偏技术口吻，新用户会感到“被警告”而不是“被引导”。
5. Vault 空状态虽然可读，但新用户仍可能停在“下一步去哪”的犹豫里。
6. 中英切换后的语义风格有轻微不一致，可能造成“像两个产品”的感受。
